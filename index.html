<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrediÃ§Ã£o de Produtividade Estudantil â€” TensorFlow.js</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="main">
        <h1><i class="bi bi-mortarboard"></i> PrediÃ§Ã£o de Produtividade Estudantil</h1>
        <p class="text-muted mb-4">
            Rede neural treinada com TensorFlow.js em 20.000 amostras de estudantes.
            Preencha os dados abaixo e veja a produtividade prevista pelo modelo.
        </p>

        <div class="row mt-3">
            <!-- Coluna 1: FormulÃ¡rio do Estudante -->
            <div class="col-md-5">
                <div class="card mb-4">
                    <div class="card-header">
                        <h4><i class="bi bi-person-lines-fill"></i> Perfil do Estudante</h4>
                    </div>
                    <div class="card-body">
                        <form id="studentForm">
                            <!-- Linha 1: Idade + GÃªnero -->
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label for="studentAge" class="form-label">Idade</label>
                                    <input type="number" class="form-control form-control-sm" id="studentAge"
                                        min="17" max="30" value="22">
                                </div>
                                <div class="col-md-6">
                                    <label for="studentGender" class="form-label">GÃªnero</label>
                                    <select class="form-select form-select-sm" id="studentGender">
                                        <option value="Male">Masculino</option>
                                        <option value="Female">Feminino</option>
                                        <option value="Other">Outro</option>
                                    </select>
                                </div>
                            </div>

                            <hr class="my-2">
                            <small class="text-muted fw-bold">ðŸ“š HÃ¡bitos de Estudo</small>

                            <!-- Horas de Estudo -->
                            <div class="row mb-2 mt-1">
                                <div class="col-md-6">
                                    <label for="studyHours" class="form-label">Horas de estudo/dia</label>
                                    <input type="range" class="form-range" id="studyHours"
                                        min="0" max="10" step="0.1" value="5">
                                    <small class="text-muted">Valor: <span id="studyHoursValue">5</span>h</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="sleepHours" class="form-label">Horas de sono</label>
                                    <input type="range" class="form-range" id="sleepHours"
                                        min="3" max="10" step="0.1" value="7">
                                    <small class="text-muted">Valor: <span id="sleepHoursValue">7</span>h</small>
                                </div>
                            </div>

                            <!-- Trabalhos + PresenÃ§a -->
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label for="assignmentsCompleted" class="form-label">Trabalhos completados</label>
                                    <input type="number" class="form-control form-control-sm" id="assignmentsCompleted"
                                        min="0" max="20" value="8">
                                </div>
                                <div class="col-md-6">
                                    <label for="attendancePercentage" class="form-label">PresenÃ§a (%)</label>
                                    <input type="number" class="form-control form-control-sm" id="attendancePercentage"
                                        min="0" max="100" step="0.1" value="70">
                                </div>
                            </div>

                            <hr class="my-2">
                            <small class="text-muted fw-bold">ðŸ“± DistraÃ§Ãµes</small>

                            <!-- Celular + Redes Sociais -->
                            <div class="row mb-2 mt-1">
                                <div class="col-md-6">
                                    <label for="phoneUsage" class="form-label">Uso do celular (h)</label>
                                    <input type="range" class="form-range" id="phoneUsage"
                                        min="0" max="12" step="0.1" value="4">
                                    <small class="text-muted">Valor: <span id="phoneUsageValue">4</span>h</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="socialMedia" class="form-label">Redes sociais (h)</label>
                                    <input type="range" class="form-range" id="socialMedia"
                                        min="0" max="8" step="0.1" value="2">
                                    <small class="text-muted">Valor: <span id="socialMediaValue">2</span>h</small>
                                </div>
                            </div>

                            <!-- YouTube + Gaming -->
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label for="youtubeHours" class="form-label">YouTube (h)</label>
                                    <input type="range" class="form-range" id="youtubeHours"
                                        min="0" max="6" step="0.1" value="2">
                                    <small class="text-muted">Valor: <span id="youtubeHoursValue">2</span>h</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="gamingHours" class="form-label">Gaming (h)</label>
                                    <input type="range" class="form-range" id="gamingHours"
                                        min="0" max="6" step="0.1" value="1">
                                    <small class="text-muted">Valor: <span id="gamingHoursValue">1</span>h</small>
                                </div>
                            </div>

                            <hr class="my-2">
                            <small class="text-muted fw-bold">ðŸ§˜ SaÃºde & Bem-estar</small>

                            <!-- Pausas + CafÃ© -->
                            <div class="row mb-2 mt-1">
                                <div class="col-md-6">
                                    <label for="breaksPerDay" class="form-label">Pausas por dia</label>
                                    <input type="number" class="form-control form-control-sm" id="breaksPerDay"
                                        min="0" max="15" value="5">
                                </div>
                                <div class="col-md-6">
                                    <label for="coffeeIntake" class="form-label">CafeÃ­na (mg)</label>
                                    <input type="number" class="form-control form-control-sm" id="coffeeIntake"
                                        min="0" max="500" value="200">
                                </div>
                            </div>

                            <!-- ExercÃ­cio -->
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label for="exerciseMinutes" class="form-label">ExercÃ­cio (min)</label>
                                    <input type="number" class="form-control form-control-sm" id="exerciseMinutes"
                                        min="0" max="120" value="30">
                                </div>
                                <div class="col-md-6">
                                    <label for="stressLevel" class="form-label">Estresse (1-10)</label>
                                    <input type="range" class="form-range" id="stressLevel"
                                        min="1" max="10" step="1" value="5">
                                    <small class="text-muted">Valor: <span id="stressLevelValue">5</span></small>
                                </div>
                            </div>

                            <hr class="my-2">
                            <small class="text-muted fw-bold">ðŸŽ¯ Desempenho</small>

                            <!-- Foco + Nota Final -->
                            <div class="row mb-2 mt-1">
                                <div class="col-md-6">
                                    <label for="focusScore" class="form-label">Score de foco</label>
                                    <input type="range" class="form-range" id="focusScore"
                                        min="0" max="100" step="1" value="60">
                                    <small class="text-muted">Valor: <span id="focusScoreValue">60</span></small>
                                </div>
                                <div class="col-md-6">
                                    <label for="finalGrade" class="form-label">Nota final</label>
                                    <input type="number" class="form-control form-control-sm" id="finalGrade"
                                        min="0" max="100" step="0.1" value="70">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Coluna 2: Treinamento + Resultado -->
            <div class="col-md-4">
                <!-- Card de Controles do Modelo -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h4><i class="bi bi-cpu"></i> Modelo Neural</h4>
                    </div>
                    <div class="card-body">
                        <p class="text-muted small mb-3">
                            O modelo Ã© treinado com 20.000 registros de estudantes usando
                            <strong>TensorFlow.js</strong>. A rede neural aprende a relaÃ§Ã£o entre
                            hÃ¡bitos e produtividade.
                        </p>
                        <div class="model-controls d-flex flex-column gap-2">
                            <button id="trainModelBtn" class="btn btn-primary">
                                <i class="bi bi-cpu"></i> Treinar Modelo
                            </button>
                            <button disabled id="runPredictionBtn" class="btn btn-success">
                                <i class="bi bi-lightning"></i> Prever Produtividade
                            </button>
                            <button id="randomStudentBtn" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-shuffle"></i> Preencher AleatÃ³rio
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Card de Resultado -->
                <div class="card mb-4" id="predictionResult" style="display: none;">
                    <div class="card-header">
                        <h4><i class="bi bi-graph-up-arrow"></i> Resultado da PrediÃ§Ã£o</h4>
                    </div>
                    <div class="card-body text-center">
                        <h1 class="display-3 fw-bold" id="productivityScore">â€”</h1>
                        <p class="text-muted">Produtividade Prevista</p>
                        <div class="progress" style="height: 30px;">
                            <div class="progress-bar" id="scoreBar" role="progressbar"
                                style="width: 0%;" aria-valuenow="0" aria-valuemin="0"
                                aria-valuemax="100">
                            </div>
                        </div>
                        <div id="studentSummary" class="mt-3 text-start"></div>
                    </div>
                </div>
            </div>

            <!-- Coluna 3: Info -->
            <div class="col-md-3">
                <div class="card mb-4">
                    <div class="card-header">
                        <h4><i class="bi bi-info-circle"></i> Sobre</h4>
                    </div>
                    <div class="card-body">
                        <p class="small text-muted">
                            <strong>Dataset:</strong> 20.000 estudantes com 17 variÃ¡veis comportamentais.<br><br>
                            <strong>Modelo:</strong> Rede neural densa com 4 camadas (128â†’64â†’32â†’1),
                            dropout de 20%, treinada com MSE.<br><br>
                            <strong>Input:</strong> 15 features numÃ©ricas + gÃªnero (one-hot) = 18 dimensÃµes.<br><br>
                            <strong>Output:</strong> Score de produtividade (0â€“100).<br><br>
                            <strong>Arquitetura:</strong>
                        </p>
                        <pre class="small bg-light p-2 rounded"><code>Input (18) 
  â†’ Dense(128, relu) 
  â†’ Dropout(0.2) 
  â†’ Dense(64, relu) 
  â†’ Dropout(0.2) 
  â†’ Dense(32, relu)
  â†’ Dense(1, sigmoid)
  â†’ Output (0â€“1) Ã— escala</code></pre>
                        <p class="small text-muted mt-2">
                            <strong>MÃ©tricas:</strong><br>
                            â€¢ <em>MSE</em> â€” Erro QuadrÃ¡tico MÃ©dio<br>
                            â€¢ <em>MAE</em> â€” Erro Absoluto MÃ©dio<br><br>
                            Clique em "Treinar" para iniciar e observe os grÃ¡ficos do TF.js Visor.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.5.1/dist/tfjs-vis.umd.min.js"></script>
    <script type="module" src="./src/index.js"></script>
</body>

</html>
